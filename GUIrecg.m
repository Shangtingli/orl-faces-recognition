global h_axes1  
global h_axes2  
global edit2  
load('recognize.mat');  
set(edit2,'string','????????????......')  
drawnow  
disp('????????????...')  
disp('.................................................')  
img=getimage(h_axes1);%????????????????????????  
if isempty(img)  
    msgbox('??????????????????')
else
    testface=img(:)';  
    set(edit2,'string','????????????......')  
    drawnow  
    disp('????????????????...')  
    disp('.................................................')  
    Z=double(testface)-mA;  
    pcatestface=Z*V;  
    set(edit2,'string','??????????????????......')  
    drawnow  
%     disp('??????????????????...')  
%     disp('.................................................')  
%     scaledtestface=-1+(pcatestface-lowvec)./(upvec-lowvec)*2;  
    set(edit2,'string','????????......')  
    drawnow  
    disp('????????...')  
    disp('.................................................')  
    class = my_predict(model, pcatestface, npersons);
    class = class(1);
    set(edit2,'string','??????????')  
    drawnow  
    axes(h_axes2);  
    imshow(imread(['~/Desktop/ZKYPROJECT/orl_faces/s',num2str(class),'/1.pgm']));  
    msgbox(['????????????',num2str(class),'????'])
end